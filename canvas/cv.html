<html>
	<head>
	</head>
	<body>
		<canvas id="theCanvas" width="1000" height="600" onClick="clicked(window.event)"></canvas>
		
		<script type="text/javascript"><!--
			var angle = 0;
			var posx = 0;
			var posy = 0;
			
			
			
			function clicked(e)
			{
				posx = e.x;
				posy = e.y;
			}
			
			function getCanvas()
			{
				return document.getElementById("theCanvas");
			}
			
			function redraw()
			{
				var ctx = getCanvas().getContext('2d');
				ctx.strokeStyle = '#FF0000';
				ctx.lineWidth = 2;
				ctx.clearRect(0, 0, 1000, 600);
						
				ctx.beginPath();
				ctx.moveTo(posx + Math.cos(angle/3) * 64, posy + Math.sin(angle/2) * 32);
				ctx.lineTo(posx + Math.cos(angle) * 64, posy - Math.sin(angle) * 64);
				ctx.stroke();
				ctx.closePath();
				
			}
			
			function doFrame()
			{
				setTimeout(doFrame, 20);
				angle += 0.05;
				redraw();
			}
			
			//setup();
			doFrame();
		--></script>
	</body>
</html>